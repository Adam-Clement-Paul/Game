<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon"
          href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ”¥</text></svg>">
</head>

<body>
    <div id="loaderDiv">
        <video src="../static/videos/loading.mp4" preload="auto" autoplay loop></video>
        <p>Loading...</p>
    </div>
    <div id="qrCode">
        <div id="canvas"></div>
    </div>
    <div id="mobileButtons">
        <div class="joystickDiv"></div>
        <div id="mobileSvgAxeHose">
            <svg>
                <use href="#firehoseSvg"></use>
                <use href="#axeSvg"></use>
            </svg>
        </div>
    </div>
    <div id="bottomCode">
        <p class="lobby">Waiting for group leader</p>
        <button class="lobby" id="start">Start game</button>
        <div>
            <p>GAME CODE: <span id="gameCode"></span></p>
            <button id="qrButton">
                <svg id="qrSvg" xmlns="http://www.w3.org/2000/svg" width="24" height="25" fill="none">
                    <path d="M7 17.325v.01m0-10.01v.01m10-.01v.01m0 6.99h-3v3m6-3v.01m-6 5.99h3m0-3h3v3m-16-15a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-4Zm10 0a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4Zm-10 10a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-4Z"
                          stroke="#354052" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <svg id="backSvg" xmlns="http://www.w3.org/2000/svg" width="24" height="25" fill="none">
                    <path d="m9 11.325-4 4m0 0 4 4m-4-4h11a4 4 0 1 0 0-8h-1" stroke="#354052" stroke-width="2"
                          stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>
    </div>
    <span id="timer"></span>

    <canvas id="webgl"></canvas>

    <div id="gameOver">
        <div class="gameOverData">
            <p>
                <span id="playerName"></span><br>
                Mission duration : <span id="missionDuration"></span><br>
                Flames extinguished : <span id="flamesExting"></span><br>
                Cut trees : <span id="treesCutted"></span><br>
                + <span id="coinsEarned"></span><img src="../images/coin.png" alt="coin"><br>
            </p>
        </div>
        <div class="gameOverMain">
            <h1></h1>
            <div>
                <a href="/">
                    <button id="menu" class="btn-yellow">MAIN MENU</button>
                </a>
            </div>
        </div>
    </div>
    <div class="displayNone">
        <svg id="axeSvg" viewBox="0 0 529 386" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M241.731 65.7555C241.731 65.7555 239.161 57.2923 243.661 46.7555C248.161 36.2187 257.661 34.9475 257.661 34.9475C357.687 7.54228 454.701 2.39876 515.661 1.00383C515.661 1.00383 520.661 0.755543 524.661 4.25555C528.661 7.75556 528.161 12.2555 528.161 12.2555V369.256C528.161 369.256 528.363 377.641 523.661 381.756C519.546 385.356 514.161 385.256 514.161 385.256H362.661C362.661 385.256 351.652 385.766 345.661 380.756C340.634 376.552 337.606 369.256 337.606 369.256L241.731 65.7555Z" fill="white" fill-opacity="0.7"/>
            <g filter="url(#filter0_d_770_18)">
                <path d="M413.91 112.701C403.592 114.311 395.178 116.668 387.843 120.208C388.469 122.973 389.335 126.932 390.312 131.605C390.707 124.484 406.749 118.995 414.721 117.141C414.46 115.693 414.19 114.213 413.91 112.701Z" fill="#373737"/>
                <path d="M333.102 79.5441C326.012 112.047 330.321 133.773 341.965 158.883C345.262 154.378 350.116 149.135 355.693 143.898C345.127 120.332 348.626 93.178 351.696 82.5467C343.215 81.6909 336.583 80.4321 333.102 79.5441Z" fill="white"/>
                <path d="M456.661 91.5757C454.575 84.4265 447.103 79.5441 436.676 78.8466V92.1908L456.661 91.5757Z" fill="white"/>
                <path d="M429.203 110.931L428.334 92.4476L436.676 92.1908V78.8466C430.946 78.4634 422.488 79.3438 411.618 80.4752C402.707 81.4027 392.175 82.4989 380.197 83.2059C369.758 83.822 359.869 83.3715 351.696 82.5467C348.626 93.178 345.127 120.332 355.693 143.898C363.933 136.162 373.75 128.44 382.455 123.137C384.191 122.08 385.982 121.106 387.843 120.208C395.178 116.668 403.592 114.311 413.91 112.701C418.59 111.971 423.662 111.394 429.203 110.931Z" fill="#DB4848"/>
                <path d="M444.669 271.526C440.557 258.972 432.192 229.817 427.465 208.055C424.841 195.973 423.999 187.307 422.93 176.3C421.655 163.17 420.056 146.708 414.721 117.141C406.749 118.995 390.707 124.484 390.312 131.605C392.68 142.924 395.705 158.427 397.575 171.263C400.875 193.92 412.682 243.405 422.932 273.575L444.669 271.526Z" fill="#D1D1D1"/>
                <path d="M422.947 273.619C421.209 284.081 417.976 307.656 418.95 318.258L446.755 325.756L444.669 271.526L422.932 273.575L422.947 273.619Z" fill="#AFAFAF"/>
            </g>
            <defs>
                <filter id="filter0_d_770_18" x="314.661" y="74.7556" width="157" height="277" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                    <feOffset dy="11"/>
                    <feGaussianBlur stdDeviation="7.5"/>
                    <feComposite in2="hardAlpha" operator="out"/>
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_770_18"/>
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_770_18" result="shape"/>
                </filter>
            </defs>
        </svg>

        <svg id="firehoseSvg" viewBox="0 0 529 386" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M194.18 55.9357C165.946 66.6896 138.048 79.5497 111.235 94.9357C-33.1555 177.791 -4.92669 305.15 25.8452 370.436C25.8452 370.436 29.7354 377.88 35.2354 380.936C40.7354 383.991 50.7354 384.936 50.7354 384.936H306.235C306.235 384.936 311.849 385.319 315.735 379.936C319.564 374.633 318.286 368.936 318.286 368.936L225.735 69.7548C225.735 69.7548 223.235 58.9357 214.235 55.4357C205.235 51.9357 194.18 55.9357 194.18 55.9357Z" fill="white" fill-opacity="0.7"/>
            <g filter="url(#filter0_d_770_15)">
                <path d="M123.868 200.052C125.201 196.198 125.721 192.71 125.768 189.867C124.099 188.44 122.278 187.033 120.291 185.658C119.709 185.255 119.113 184.855 118.502 184.458C105.396 175.942 85.5613 168.82 55.4255 166C35.928 178.805 37.9455 183.676 41.2957 191.764C44.6585 199.883 49.364 211.243 35 237.123C61.5946 217.303 87.9921 211.399 110.272 212.229C110.721 212.245 111.167 212.265 111.612 212.287C113.407 212.376 115.175 212.508 116.913 212.68C119.146 210.209 121.753 206.169 123.868 200.052Z" fill="#48C0DB"/>
                <path d="M191.415 221.996C193.108 213.05 190.738 208.661 188.368 206.635L185.484 205.58C185.164 207.063 184.876 208.413 184.648 209.485C186 210.84 186.845 212.768 186.845 214.907C186.845 218.336 184.673 221.222 181.721 222.077L181.664 222.093C181.633 222.102 181.602 222.11 181.571 222.118L178.487 222.972C178.309 222.995 178.12 223.007 177.922 223.009L177.872 223.009C174.039 223.009 170.931 219.684 170.931 215.582C170.931 212.398 172.803 209.682 175.434 208.625L177.575 207.903L177.195 207.817C175.57 207.952 175.051 206.185 174.994 205.285C175.225 204.355 175.5 203.242 175.797 202.037L170.768 200.197L164.077 197.749L161.877 196.945L155.762 194.708C159.919 201.426 159.106 217.557 146.261 227.614L177.752 236.682L182.443 238.033C184.982 236.007 189.844 230.302 191.415 221.996Z" fill="#C6C6C6"/>
                <path d="M255.973 290.699C265.32 281.482 266.542 268.407 263.546 257.5C258.213 238.082 239.535 220.529 209.93 211.83C211.502 215.905 212.495 221.275 211.392 226.554C210.19 232.307 206.025 239.052 202.123 243.811C223.281 250.322 230.627 261.325 231.982 266.259L231.997 266.311L232.006 266.345C231.492 266.247 230.878 266.097 230.15 265.876C211.415 260.179 194.909 259.324 181.201 263.451C167.067 267.706 156.959 277.002 151.766 288.933C141.858 311.696 151.147 339.752 171.628 355L191.118 328.553C181.113 321.104 178.829 308.87 181.765 302.125C182.994 299.303 185.412 296.54 190.597 294.979C196.208 293.29 205.812 292.861 220.668 297.378C232.903 301.098 246.413 300.127 255.973 290.699Z" fill="#C6C6C6"/>
                <path d="M181.766 187.897L177.195 207.817L177.575 207.903L182.437 209.005L184.648 209.485C184.876 208.413 185.164 207.063 185.484 205.58C185.666 204.738 185.857 203.852 186.053 202.95C187.056 198.341 188.18 193.287 188.707 191.274C189.519 188.168 188.707 186.828 188.199 186.547L180.781 183.002C182.307 183.823 182.168 186.332 181.766 187.897Z" fill="white"/>
                <path d="M205.636 205.116L189.553 199.883C192.156 201.112 195.356 205.103 195.91 213.377C196.041 215.33 196.024 217.521 195.817 219.971C195.504 223.679 194.311 227.359 192.72 230.722C188.806 238.992 182.484 245.341 180.919 245.461C186.737 247.306 195.478 249.85 195.478 249.85C196.861 249.436 199.43 247.097 202.123 243.811C206.025 239.052 210.19 232.307 211.392 226.554C212.495 221.275 211.502 215.905 209.93 211.83C208.607 208.4 206.874 205.887 205.636 205.116Z" fill="white"/>
                <path d="M188.368 206.635C190.738 208.661 193.108 213.05 191.415 221.996C189.844 230.302 184.982 236.007 182.443 238.033L177.752 236.682C178.401 241.679 179.76 245.093 180.919 245.461C182.484 245.341 188.806 238.992 192.72 230.722C194.311 227.359 195.504 223.679 195.817 219.971C196.024 217.521 196.041 215.33 195.91 213.377C195.356 205.103 192.156 201.112 189.553 199.883C188.687 199.984 187.431 201.111 186.053 202.95C185.857 203.852 185.666 204.738 185.484 205.58L188.368 206.635Z" fill="#B1AEAE"/>
                <path d="M177.195 207.817L181.766 187.897C182.168 186.332 182.307 183.823 180.781 183.002C180.168 182.672 179.285 182.615 178.041 183.002C173.708 184.353 169.238 186.041 167.545 186.716C166.699 187.11 164.803 188.505 163.99 190.936C163.232 193.204 162.317 195.746 161.877 196.945L164.077 197.749L165.345 192.962C165.458 192.455 165.954 191.375 167.038 191.105C168.121 190.835 174.938 188.516 178.211 187.391C178.606 187.222 179.328 187.222 179.057 188.573C178.963 189.041 178.596 190.59 178.103 192.624C177.439 195.369 176.548 198.997 175.797 202.037C175.5 203.242 175.225 204.355 174.994 205.285C175.051 206.185 175.57 207.952 177.195 207.817Z" fill="#B1AEAE"/>
                <path d="M165.345 192.962L164.077 197.749L170.768 200.197L172.116 195.325C172.229 194.875 172.726 193.907 173.809 193.637C174.893 193.367 177.123 192.849 178.103 192.624C178.596 190.59 178.963 189.041 179.057 188.573C179.328 187.222 178.606 187.222 178.211 187.391C174.938 188.516 168.121 190.835 167.038 191.105C165.954 191.375 165.458 192.455 165.345 192.962Z" fill="#636363"/>
                <path d="M172.963 214.907C172.963 219.009 176.07 222.334 179.904 222.334C179.964 222.334 180.024 222.333 180.083 222.332C180.595 222.318 181.093 222.245 181.571 222.118C181.602 222.11 181.633 222.102 181.664 222.093L181.721 222.077C184.673 221.222 186.845 218.336 186.845 214.907C186.845 212.768 186 210.84 184.648 209.485L182.437 209.005L177.575 207.903L176.851 208.234C174.548 209.443 172.963 211.977 172.963 214.907Z" fill="white"/>
                <path d="M179.904 222.334C176.07 222.334 172.963 219.009 172.963 214.907C172.963 211.977 174.548 209.443 176.851 208.234L177.575 207.903L175.434 208.625C172.803 209.682 170.931 212.398 170.931 215.582C170.931 219.684 174.039 223.009 177.872 223.009L177.922 223.009C178.12 223.007 178.309 222.995 178.487 222.972L181.571 222.118C181.093 222.245 180.595 222.318 180.083 222.332C180.024 222.333 179.964 222.334 179.904 222.334Z" fill="#B1AEAE"/>
                <path d="M112.865 223.178L145.2 228.411C145.562 228.15 145.916 227.884 146.261 227.614C159.106 217.557 159.919 201.426 155.762 194.708C155.338 194.022 154.862 193.435 154.341 192.962L126.578 176.081C129.625 178.669 134.364 185.197 128.778 200.052C123.756 213.405 115.517 220.871 112.865 223.178Z" fill="white"/>
                <path d="M128.778 200.052C134.364 185.197 129.625 178.669 126.578 176.081C124.638 177.531 121.533 180.144 118.502 184.458C119.113 184.855 119.709 185.255 120.291 185.658C121.869 183.51 123.254 182.123 123.868 182.327C124.793 182.634 125.841 185.486 125.768 189.867C125.721 192.71 125.201 196.198 123.868 200.052C121.753 206.169 119.146 210.209 116.913 212.68C114.84 214.976 113.09 215.919 112.357 215.919C111.832 215.919 111.602 214.455 111.612 212.287C111.167 212.265 110.721 212.245 110.272 212.229C110.482 217.196 111.624 221.035 112.865 223.178C115.517 220.871 123.756 213.405 128.778 200.052Z" fill="#B1AEAE"/>
                <path d="M125.768 189.867C125.841 185.486 124.793 182.634 123.868 182.327C123.254 182.123 121.869 183.51 120.291 185.658C122.278 187.033 124.099 188.44 125.768 189.867Z" fill="#636363"/>
                <path d="M112.357 215.919C113.09 215.919 114.84 214.976 116.913 212.68C115.175 212.508 113.407 212.376 111.612 212.287C111.602 214.455 111.832 215.919 112.357 215.919Z" fill="#636363"/>
            </g>
            <defs>
                <filter id="filter0_d_770_15" x="20" y="162" width="260" height="219" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                    <feOffset dy="11"/>
                    <feGaussianBlur stdDeviation="7.5"/>
                    <feComposite in2="hardAlpha" operator="out"/>
                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>
                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_770_15"/>
                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_770_15" result="shape"/>
                </filter>
            </defs>
        </svg>
        <svg id="backwardSvg" xmlns="http://www.w3.org/2000/svg" width="101" height="93" fill="none">
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M1 17C1 8.163 8.163 1 17 1h67c8.837 0 16 7.163 16 16v36.61a16 16 0 0 1-.698 4.676l-6.842 22.39A16 16 0 0 1 77.16 92H23.84A16 16 0 0 1 8.54 80.675l-6.842-22.39A16 16 0 0 1 1 53.61V17Zm20.5 1h21a5.5 5.5 0 1 1 0 11h-21a5.5 5.5 0 1 1 0-11Zm58 0h-21a5.5 5.5 0 1 0 0 11h21a5.5 5.5 0 1 0 0-11Zm-58 23h21a5.5 5.5 0 1 1 0 11h-21a5.5 5.5 0 1 1 0-11Zm58 0h-21a5.5 5.5 0 1 0 0 11h21a5.5 5.5 0 1 0 0-11Zm-58 23h21a5.5 5.5 0 1 1 0 11h-21a5.5 5.5 0 1 1 0-11Zm58 0h-21a5.5 5.5 0 1 0 0 11h21a5.5 5.5 0 1 0 0-11Z"
                  fill="#fff" fill-opacity=".6"/>
            <path d="M21.5 18h21a5.5 5.5 0 1 1 0 11h-21a5.5 5.5 0 1 1 0-11ZM58.5 18h21a5.5 5.5 0 1 1 0 11h-21a5.5 5.5 0 1 1 0-11ZM21.5 41h21a5.5 5.5 0 1 1 0 11h-21a5.5 5.5 0 1 1 0-11ZM58.5 41h21a5.5 5.5 0 1 1 0 11h-21a5.5 5.5 0 1 1 0-11ZM21.5 64h21a5.5 5.5 0 1 1 0 11h-21a5.5 5.5 0 1 1 0-11ZM58.5 64h21a5.5 5.5 0 1 1 0 11h-21a5.5 5.5 0 1 1 0-11Z"
                  fill="#fff" fill-opacity=".4"/>
        </svg>
        <svg id="forwardSvg" xmlns="http://www.w3.org/2000/svg" width="78" height="185" fill="none">
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M17 1h44c8.837 0 16 7.163 16 16v151c0 8.837-7.163 16-16 16H17c-8.837 0-16-7.163-16-16V17C1 8.163 8.163 1 17 1Zm41.5 17h-40a5.5 5.5 0 1 0 0 11h40a5.5 5.5 0 1 0 0-11Zm0 23h-40a5.5 5.5 0 1 0 0 11h40a5.5 5.5 0 1 0 0-11Zm0 23h-40a5.5 5.5 0 1 0 0 11h40a5.5 5.5 0 1 0 0-11Zm0 23h-40a5.5 5.5 0 1 0 0 11h40a5.5 5.5 0 1 0 0-11Zm0 23h-40a5.5 5.5 0 1 0 0 11h40a5.5 5.5 0 1 0 0-11Zm0 23h-40a5.5 5.5 0 1 0 0 11h40a5.5 5.5 0 1 0 0-11Zm0 23h-40a5.5 5.5 0 1 0 0 11h40a5.5 5.5 0 1 0 0-11Z"
                  fill="#fff" fill-opacity=".6"/>
            <path d="M18.5 18h40a5.5 5.5 0 1 1 0 11h-40a5.5 5.5 0 1 1 0-11ZM18.5 41h40a5.5 5.5 0 1 1 0 11h-40a5.5 5.5 0 1 1 0-11ZM18.5 64h40a5.5 5.5 0 1 1 0 11h-40a5.5 5.5 0 1 1 0-11ZM18.5 87h40a5.5 5.5 0 1 1 0 11h-40a5.5 5.5 0 1 1 0-11ZM18.5 110h40a5.5 5.5 0 1 1 0 11h-40a5.5 5.5 0 1 1 0-11ZM18.5 133h40a5.5 5.5 0 1 1 0 11h-40a5.5 5.5 0 1 1 0-11ZM18.5 156h40a5.5 5.5 0 1 1 0 11h-40a5.5 5.5 0 1 1 0-11Z"
                  fill="#fff" fill-opacity=".4"/>
        </svg>
        <svg id="hornSvg" xmlns="http://www.w3.org/2000/svg" width="51" height="51" fill="none">
            <path d="M45.487 25.526c0-5.613-4.226-5.357-4.226-5.357h-7.22s-2.09-.385-3.509-1.182c-2.403-1.35-5.7-5.03-5.7-5.03s.88 4.703 1.204 8.886c.073.94.117 1.855.117 2.683 0 .78-.04 1.635-.104 2.515-.313 4.218-1.218 9.027-1.218 9.027s3.298-3.68 5.701-5.03c1.419-.797 3.51-1.182 3.51-1.182H41.26s4.226.283 4.226-5.33Z"
                  fill="#fff" fill-opacity=".4"/>
            <path d="M26.036 22.843h-1.618c-.252 0-.495.037-.725.106a2.595 2.595 0 0 0-1.836 2.493c0 1.176.77 2.17 1.826 2.49.233.071.48.11.735.11h1.63c.066-.881.105-1.736.105-2.516 0-.828-.044-1.742-.117-2.683ZM41.145 30.855H34.65v6.747h6.494v-6.746Z"
                  fill="#fff" fill-opacity=".4"/>
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M25.5 50C39.031 50 50 39.031 50 25.5S39.031 1 25.5 1 1 11.969 1 25.5 11.969 50 25.5 50Zm19.987-24.474c0-5.613-4.226-5.357-4.226-5.357h-7.22s-2.09-.385-3.509-1.182c-2.403-1.35-5.7-5.03-5.7-5.03s-.843 4.77-1.139 8.992a2.595 2.595 0 0 0-1.836 2.493c0 1.176.77 2.17 1.826 2.49.285 4.252 1.148 9.136 1.148 9.136s3.298-3.68 5.701-5.03c1.419-.797 3.51-1.182 3.51-1.182h.609v6.746h6.494v-6.746h.116s4.226.283 4.226-5.33ZM14.042 8.984l-1.518 1.528 6.701 6.658 1.519-1.529-6.701-6.657Zm-5.785 9.155.816-1.965 8.723 3.624-.816 1.965-8.723-3.624Zm.818 16.615-.82-1.971 8.723-3.625.82 1.972-8.723 3.624Zm3.456 5.665 1.505 1.515 6.7-6.657-1.504-1.515-6.701 6.657ZM6.904 24.38v2.154h9.445v-2.155H6.904Z"
                  fill="#fff" fill-opacity=".6"/>
        </svg>
    </div>

    <script type="module" src="./script.js"></script>
</body>
</html>